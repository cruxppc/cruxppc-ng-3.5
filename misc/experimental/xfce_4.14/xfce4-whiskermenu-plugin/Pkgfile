# Description: Alternate application launcher menu from the panel
# URL: https://goodies.xfce.org/projects/panel-plugins/xfce4-whiskermenu-plugin
# Maintainer: cruxppc at gmail dot com
# Depends on: xfce4-panel
# Xfce git (https://git.xfce.org/) group: panel-plugins
xfcerel=4.14
name=xfce4-whiskermenu-plugin
version=2.3.4
release=1
source=(http://archive.xfce.org/src/panel-plugins/$name/${version%.*}/$name-$version.tar.bz2
        xfce_$xfcerel.$name
       )
build ()
{ # The port's pre-install script ensured the build and/or deploy system is in the
  # right state to build and/or deploy this port.
  # Establish the $xfcerel $name file for this port:
  install -d -m0755 -groot -oroot $PKG/var/lib/pkg/xfce/$xfcerel
  install -T -m0644 -groot -oroot $SRC/xfce_$xfcerel.$name \
                                  $PKG/var/lib/pkg/xfce/$xfcerel/$name
  # Build the canonical package:
  cd $name-$version
  mkdir build
  cd build
  cmake -DCMAKE_BUILD_TYPE=Release \
        -DCMAKE_INSTALL_PREFIX=/usr \
        -DCMAKE_INSTALL_LIBDIR=lib \
        -DCMAKE_INSTALL_MANDIR=/usr/share/man \
        -GNinja ../
  ninja
  DESTDIR=$PKG ninja install
  rm -rf $PKG/usr/share/locale
}
